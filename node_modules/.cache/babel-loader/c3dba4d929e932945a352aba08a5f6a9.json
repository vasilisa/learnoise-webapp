{"ast":null,"code":"import _objectSpread from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/src/components/Survey/Survey.js\";\nimport React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { withRouter } from 'react-router-dom'; // import other questionnaires the same way \n\nimport * as demo from '../../questionnaires/DEMO';\nimport * as ybocs from '../../questionnaires/YBOCS';\nimport * as covid from '../../questionnaires/COVID19';\nimport quizQuestions from '../../questionnaires/YBOCS'; // import './Survey.css'\n\nvar quizData = {\n  demo: demo,\n  ybocs: ybocs,\n  covid: covid // add other questionnaires later \n\n};\nconsole.log(quizData); // MIGHT NOT NEED THIS \n// Create a list of survey tags that will be presented to the user \n\nvar survey_list = ['ybocs', 'demo', 'covid']; // add others after\n\nvar n = survey_list.length;\n\nfunction createQuiz(id, survey_name) {\n  return {\n    id: id,\n    surveytag: survey_name,\n    quizQuestions: quizData[survey_name]\n  };\n}\n\nvar list = [];\n\nfor (var i = 0; i < n; i++) {\n  var obj = createQuiz(i, survey_list[i]); //add other params if you need\n\n  list.push(obj);\n}\n\nconsole.log(list); // MIGHT NOT NEED THIS \n\nvar Survey =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Survey, _React$Component);\n\n  function Survey(props) {\n    var _this;\n\n    _classCallCheck(this, Survey);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Survey).call(this, props));\n    console.log(_this.props.location.state); // Information about a specific block of the Survey: \n\n    var block_info = {\n      surveytag: survey_list[0] // First questionnaire in the list \n\n    };\n    _this.state = {\n      participant_info: _this.props.location.state.participant_info,\n      block_info: block_info,\n      newblock_frame: _this.props.location.state.newblock_frame,\n      questions: quizData[survey_list[0]].default,\n      questions_check: quizQuestions\n    };\n    console.log(_this.state.questions);\n    console.log(_this.state.questions_check);\n    console.log(_this.state.newblock_frame);\n\n    _this.getSurveyBlock.bind(_assertThisInitialized(_this));\n\n    _this.redirectToQuiz.bind(_assertThisInitialized(_this));\n\n    _this.redirectToEnd.bind(_assertThisInitialized(_this)); // TO BE CHANGED \n\n\n    _this._isMounted = false;\n\n    _this._handleGoBack.bind(_assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  _createClass(Survey, [{\n    key: \"redirectToQuiz\",\n    value: function redirectToQuiz() {\n      if (this.state.participant_info.block_number <= this.state.participant_info.TotalBlock) {\n        if (this.state.newblock_frame) {\n          // TRUE\n          this.setState({\n            newblock_frame: false\n          });\n          console.log(this.state.newblock_frame);\n          this.props.history.push({\n            pathname: \"/QuizBlock\",\n            state: {\n              participant_info: this.state.participant_info,\n              block_info: this.state.block_info,\n              questions: this.state.questions\n            }\n          });\n        } else {\n          if (this._isMounted) {\n            console.log(this.state.participant_info.block_number);\n            var newblocknumber = this.state.participant_info.block_number + 1;\n            console.log(newblocknumber);\n            this.getSurveyBlock(newblocknumber + 1);\n            this.setState({\n              newblock_frame: true,\n              participant_info: _objectSpread({}, this.state.participant_info, {\n                block_number: newblocknumber\n              })\n            }); // what gets updated \n          }\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n      document.body.style.background = '#fff';\n      this._isMounted && this.getSurveyBlock(this.state.participant_info.block_number + 1);\n      window.history.pushState(window.state, null, window.location.href);\n      window.addEventListener('popstate', function (e) {\n        return _this2._handleGoBack(e);\n      });\n      window.onbeforeunload = this._handleRefresh;\n    }\n  }, {\n    key: \"_handleRefresh\",\n    value: function _handleRefresh(evt) {\n      return false; // error message when refresh occurs\n    }\n  }, {\n    key: \"_handleGoBack\",\n    value: function _handleGoBack(event) {\n      window.history.go(1);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    } // Get info about the specific Survey Block: \n\n  }, {\n    key: \"getSurveyBlock\",\n    value: function getSurveyBlock(block_number_) {\n      console.log(block_number_);\n      this.setState({\n        loading: true\n      });\n      var surveytag_block = survey_list[block_number_];\n      console.log('Surveytag_block:', surveytag_block);\n    }\n  }, {\n    key: \"redirectToEnd\",\n    value: function redirectToEnd() {\n      alert(\"You will be redirected to the validation page. Please, confirm leaving the page. Thank you!\"); // window.location.replace('https://app.prolific.co/submissions/complete?cc=1A496EDB')\n\n      window.location = 'https://app.prolific.co/submissions/complete?cc=XXXXXXXX'; // add STUDY_ID \n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var text;\n\n      if (this.state.block_info.surveytag === survey_list[0] && this.state.newblock_frame) {\n        text = React.createElement(\"div\", {\n          className: \"SurveyIntroText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \" \", React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"Dear Participant,\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, \"Thank you for taking part in our study!\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, \"The current study investigating \\u2018decision-making in time of uncertainty\\u2019 will take about X minutes.\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, \"You will be asked to complete several questionnaires and play a decision-making task.\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, \"Please do not start until you will have enough time to complete it in one go.\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"Please close other programs (e.g. chat or e-mail) to avoid distractions.\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"bold\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, \"Good luck!\")));\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"instructionsButtonContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, text), React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"buttonInstructionStart\",\n          onClick: function onClick() {\n            return _this3.redirectToQuiz();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"bold\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, \"START\"))))));\n      } else if (this.state.block_info.surveytag === \"adulthood\" && this.state.newblock_frame) {\n        text = React.createElement(\"div\", {\n          className: \"SurveyIntroText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, \" \", React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, \"Adult Life.\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, \"We will now ask you to answer questions about your adult life. You are asked to indicate the extent to which you agree or disagree with each of the following statements.\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, \"There are no right or wrong answers!\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, \"The important thing is that your answers reflect your life experiences as closely as possible.\"));\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"instructionsButtonContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, text), React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"buttonInstructionStart\",\n          onClick: function onClick() {\n            return _this3.redirectToQuiz();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, \"START\")))));\n      } else if (this.state.block_info.surveytag === \"childhood\" && this.state.newblock_frame) {\n        text = React.createElement(\"div\", {\n          className: \"SurveyIntroText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, \" \", React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, \"Childhood.\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, \"We will now ask you to answer questions about your childhood and your life with your parents.\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, \"In all of these questions, a parent refers to the person who has parental authority in the home. This can mean both biological and adoptive parents.\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, \"The information we will now ask you to report concerns the period of your life when you were younger than 12. This time includes preschool, kindergarten, and the elementary school.\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, \"You are asked to indicate the extent to which you agree or disagree with each of the following statements.\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"Again, there are no right or wrong answers! The important thing is that your answers reflect your life experiences as closely as possible.\"));\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"instructionsButtonContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, text), React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"buttonInstructionStart\",\n          onClick: function onClick() {\n            return _this3.redirectToQuiz();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, \"START\")))));\n      } else if (this.state.block_info.surveytag === \"repdevelop\" && this.state.newblock_frame) {\n        text = React.createElement(\"div\", {\n          className: \"SurveyIntroText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \" \", React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \"Reproductive development\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, \"This section contains questions about your reproductive development: age at puberty, age at first consented sexual experience, age at birth of your first child, number of children.\"));\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"instructionsButtonContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }, text), React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"buttonInstructionStart\",\n          onClick: function onClick() {\n            return _this3.redirectToQuiz();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, \"START\")))));\n      } else if (this.state.block_info.surveytag === \"pvd\" && this.state.newblock_frame) {\n        text = React.createElement(\"div\", {\n          className: \"SurveyIntroText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, \" \", React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, \"Vulnerability to pathogens\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, \"This section contains questions about how you perceive your \", React.createElement(\"span\", {\n          className: \"bold italic\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, \"current vulnerability\"), \" to pathogens.\"));\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"instructionsButtonContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, text), React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"buttonInstructionStart\",\n          onClick: function onClick() {\n            return _this3.redirectToQuiz();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, \"START\")))));\n      } else if (this.state.block_info.surveytag === \"feedback\" && this.state.newblock_frame) {\n        text = React.createElement(\"div\", {\n          className: \"SurveyIntroText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, \" \", React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, \"Your feedback\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }, \"Please, provide us with the feedback about this study\"));\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"instructionsButtonContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, text), React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"buttonInstructionStart\",\n          onClick: function onClick() {\n            return _this3.redirectToQuiz();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, \"START\")))));\n      } else if (this.state.participant_info.block_number === this.state.participant_info.TotalBlock + 1) {\n        text = React.createElement(\"div\", {\n          className: \"SurveyIntroText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }, \" \", React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          class: \"bold\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }, \"You finished the survey!\"), \" \"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301\n          },\n          __self: this\n        }, \"Thank you for your participation!\"), React.createElement(Button, {\n          variant: \"secondary\",\n          color: \"danger\",\n          size: \"sm\",\n          className: \"buttonInstructionFinal\",\n          type: \"submit\",\n          onClick: function onClick() {\n            return _this3.redirectToEnd();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302\n          },\n          __self: this\n        }, \"Click here \"));\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"restarttraining\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        }, text, \"  \", React.createElement(\"div\", {\n          className: \"translate\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307\n          },\n          __self: this\n        }))));\n      } else {\n        text = '... Continue ...';\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"SurveyIntroText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319\n          },\n          __self: this\n        }, text), React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"buttonInstructionStart\",\n          onClick: function onClick() {\n            return _this3.redirectToQuiz();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323\n          },\n          __self: this\n        }, \"\\u2192\"))));\n      }\n    }\n  }]);\n\n  return Survey;\n}(React.Component);\n\nexport default withRouter(Survey);","map":{"version":3,"sources":["/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/src/components/Survey/Survey.js"],"names":["React","Button","withRouter","demo","ybocs","covid","quizQuestions","quizData","console","log","survey_list","n","length","createQuiz","id","survey_name","surveytag","list","i","obj","push","Survey","props","location","state","block_info","participant_info","newblock_frame","questions","default","questions_check","getSurveyBlock","bind","redirectToQuiz","redirectToEnd","_isMounted","_handleGoBack","block_number","TotalBlock","setState","history","pathname","newblocknumber","document","body","style","background","window","pushState","href","addEventListener","e","onbeforeunload","_handleRefresh","evt","event","go","block_number_","loading","surveytag_block","alert","text","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button } from 'react-bootstrap';\nimport {withRouter} from 'react-router-dom';\n\n// import other questionnaires the same way \nimport * as demo  from '../../questionnaires/DEMO'; \nimport * as ybocs from '../../questionnaires/YBOCS'; \nimport * as covid from '../../questionnaires/COVID19';\n\nimport quizQuestions from '../../questionnaires/YBOCS'; \n\n\n// import './Survey.css'\n\nvar quizData = {\n  demo:demo,\n  ybocs:ybocs,\n  covid:covid // add other questionnaires later \n}\n\nconsole.log(quizData) \n\n// MIGHT NOT NEED THIS \n\n// Create a list of survey tags that will be presented to the user \nconst survey_list = ['ybocs','demo','covid'] // add others after\nconst n           =  survey_list.length;   \n\nfunction createQuiz(id,survey_name) {\n     return {\n         id: id,\n         surveytag: survey_name,\n         quizQuestions: quizData[survey_name]\n     };\n }\n\n\nvar list = [];\n for(var i = 0; i < n; i++) {\n    var obj = createQuiz(i,survey_list[i]); //add other params if you need\n    list.push(obj);\n }\n console.log(list);\n// MIGHT NOT NEED THIS \n\n\nclass Survey extends React.Component {\n  constructor(props){\n    super(props);\n\n    console.log(this.props.location.state)\n    \n  \n    // Information about a specific block of the Survey: \n    const block_info = {\n      surveytag  : survey_list[0], // First questionnaire in the list \n     }\n\n    this.state = {\n      participant_info : this.props.location.state.participant_info,\n      block_info       : block_info,\n      newblock_frame   : this.props.location.state.newblock_frame,  \n      questions        : quizData[survey_list[0]].default,\n      questions_check  : quizQuestions\n    }\n\n    console.log(this.state.questions)\n\n    console.log(this.state.questions_check)\n\n    console.log(this.state.newblock_frame)\n    \n    this.getSurveyBlock.bind(this);\n    this.redirectToQuiz.bind(this); \n    this.redirectToEnd.bind(this); // TO BE CHANGED \n    this._isMounted = false;\n    this._handleGoBack.bind(this);   \n  }\n\n\n  redirectToQuiz () {\n      if((this.state.participant_info.block_number <= (this.state.participant_info.TotalBlock)))\n          {           \n          if (this.state.newblock_frame){ // TRUE\n          this.setState({newblock_frame : false})\n\n          console.log(this.state.newblock_frame)\n          this.props.history.push({\n           pathname: `/QuizBlock`,\n           state: {participant_info: this.state.participant_info,\n                   block_info      : this.state.block_info,\n                   questions       : this.state.questions\n                 }\n          })}\n          else\n          {\n            if (this._isMounted)\n            {\n              console.log(this.state.participant_info.block_number)\n              const newblocknumber = this.state.participant_info.block_number + 1\n              console.log(newblocknumber)\n              this.getSurveyBlock(newblocknumber+1)\n              this.setState({newblock_frame: true, participant_info : {...this.state.participant_info, block_number:newblocknumber},}) // what gets updated \n            }\n          }\n        }\n      }\n    \n  componentDidMount() { \n  this._isMounted = true;\n  document.body.style.background= '#fff'; \n  this._isMounted && this.getSurveyBlock(this.state.participant_info.block_number+1);\n    window.history.pushState(window.state, null, window.location.href);\n    window.addEventListener('popstate', e => this._handleGoBack(e));\n    window.onbeforeunload = this._handleRefresh\n  }\n\n  _handleRefresh(evt){\n    return false // error message when refresh occurs\n  }\n\n  _handleGoBack(event){\n    window.history.go(1);\n  }\n\n  componentWillUnmount()\n  {\n   this._isMounted = false;\n  }  \n\n // Get info about the specific Survey Block: \n getSurveyBlock(block_number_) {\n\n    console.log(block_number_)\n\n    this.setState({ loading: true });\n\n    const surveytag_block = survey_list[block_number_] \n\n    console.log('Surveytag_block:',surveytag_block);\n    \n}\n\n redirectToEnd(){\n    alert(\"You will be redirected to the validation page. Please, confirm leaving the page. Thank you!\")\n    // window.location.replace('https://app.prolific.co/submissions/complete?cc=1A496EDB')\n    window.location = 'https://app.prolific.co/submissions/complete?cc=XXXXXXXX' // add STUDY_ID \n}\n\nrender()\n  { \n    let text\n    if ((this.state.block_info.surveytag === survey_list[0]) && (this.state.newblock_frame))\n    { \n      text = <div className='SurveyIntroText'> <p>Dear Participant,</p>\n      <p>Thank you for taking part in our study!</p>\n      <p>The current study investigating ‘decision-making in time of uncertainty’ will take about X minutes.</p> \n      <p>You will be asked to complete several questionnaires and play a decision-making task.</p>\n      <p>Please do not start until you will have enough time to complete it in one go.</p>\n      <p>Please close other programs (e.g. chat or e-mail) to avoid distractions.</p>\n\n      <p><span className=\"bold\">Good luck!</span></p></div>\n\n    return (\n      <div>\n      <center> \n      <div className=\"instructionsButtonContainer\">\n        <div>\n          {text}           \n        </div> \n        <center>\n          <Button className=\"buttonInstructionStart\" onClick={()=>this.redirectToQuiz()}>\n          <span className=\"bold\">START</span>\n          </Button>\n        </center>\n      </div>\n      </center> \n      </div>);\n    } \n\n    else if ((this.state.block_info.surveytag === \"adulthood\")  && (this.state.newblock_frame))\n    {\n      text = <div className='SurveyIntroText'> <p>Adult Life.</p>\n                <p>We will now ask you to answer questions about your adult life. You are asked to indicate the extent to which you agree or disagree with each of the following statements.</p> \n                <p>There are no right or wrong answers!</p>\n                <p>The important thing is that your answers reflect your life experiences as closely as possible.</p></div> \n       \n        return (\n          <div>\n          <center> \n          <div className=\"instructionsButtonContainer\">\n            <div>\n              {text}           \n            </div> \n            <center>\n              <Button className=\"buttonInstructionStart\" onClick={()=>this.redirectToQuiz()}>\n              START\n              </Button>\n            </center>\n          </div>\n          </center>\n          </div>\n          );\n    }\n    else if ((this.state.block_info.surveytag === \"childhood\") && (this.state.newblock_frame))\n    {\n      text = <div className='SurveyIntroText'> <p>Childhood.</p>\n            <p>We will now ask you to answer questions about your childhood and your life with your parents.</p>\n            <p>In all of these questions, a parent refers to the person who has parental authority in the home. This can mean both biological and adoptive parents.</p> \n            <p>The information we will now ask you to report concerns the period of your life when you were younger than 12. This time includes preschool, kindergarten, and the elementary school.</p>\n            <p>You are asked to indicate the extent to which you agree or disagree with each of the following statements.</p>\n            <p>Again, there are no right or wrong answers! The important thing is that your answers reflect your life experiences as closely as possible.</p> \n          </div>\n      \n        return (\n          <div>\n          <center> \n          <div className=\"instructionsButtonContainer\">\n            <div>\n              {text}           \n            </div>\n            <center>\n              <Button className=\"buttonInstructionStart\" onClick={()=>this.redirectToQuiz()}>\n              START\n              </Button>\n            </center>\n          </div>\n          </center>\n          </div>);\n    }\n    else if ((this.state.block_info.surveytag === \"repdevelop\") && (this.state.newblock_frame)) \n    { \n      text = <div className='SurveyIntroText'> <p>Reproductive development</p>\n                <p>This section contains questions about your reproductive development: age at puberty, age at first consented sexual experience, age at birth of your first child, number of children.</p> \n                </div>\n        \n        return (\n        <div>\n        <center> \n        <div className=\"instructionsButtonContainer\">\n          <div>\n            {text}           \n          </div> \n            <center>\n            <Button className=\"buttonInstructionStart\" onClick={()=>this.redirectToQuiz()}>\n            START\n            </Button>\n            </center>\n          </div>\n          </center>\n          </div>);\n      }\n\n    else if ((this.state.block_info.surveytag === \"pvd\") && (this.state.newblock_frame)) \n    { \n      text = <div className='SurveyIntroText'> <p>Vulnerability to pathogens</p>\n                <p>This section contains questions about how you perceive your <span className='bold italic'>current vulnerability</span> to pathogens.</p> \n                </div>\n        \n        return (\n        <div>\n        <center> \n        <div className=\"instructionsButtonContainer\">\n          <div>\n            {text}           \n          </div> \n            <center>\n            <Button className=\"buttonInstructionStart\" onClick={()=>this.redirectToQuiz()}>\n            START\n            </Button>\n            </center>\n          </div>\n          </center>\n          </div>);\n      }\n    else if ((this.state.block_info.surveytag === \"feedback\") && (this.state.newblock_frame)) \n    { \n      text = <div className='SurveyIntroText'> <p>Your feedback</p>\n                <p>Please, provide us with the feedback about this study</p> \n                </div>\n        return (\n        <div>\n        <center> \n        <div className=\"instructionsButtonContainer\">\n          <div>\n            {text}           \n          </div> \n            <center>\n            <Button className=\"buttonInstructionStart\" onClick={()=>this.redirectToQuiz()}>\n            START\n            </Button>\n            </center>\n          </div>\n          </center>\n          </div>);\n      }\n\n    else if (this.state.participant_info.block_number === this.state.participant_info.TotalBlock+1) \n    {\n      text = <div className='SurveyIntroText'> <p><span class=\"bold\">You finished the survey!</span> </p>\n      <p>Thank you for your participation!</p> \n      <Button variant=\"secondary\" color=\"danger\" size=\"sm\" className=\"buttonInstructionFinal\" type=\"submit\" onClick={() => this.redirectToEnd()}>Click here </Button></div>\n        return (\n          <div>\n          <center> \n          <div className=\"restarttraining\">\n              {text}  <div className=\"translate\"/>\n            </div>\n          </center>\n          </div>);        \n    }\n\n    else\n    {\n          text = '... Continue ...'\n        return (\n      <div>\n      <center>\n      <div className=\"SurveyIntroText\">\n        {text}           \n      </div>\n      <center>\n            <Button className=\"buttonInstructionStart\" onClick={()=>this.redirectToQuiz()}>\n            &#8594;\n            </Button>\n            </center>\n    </center>\n    </div>);\n    }    \n  }\n\n}\n\nexport default withRouter(Survey);"]},"metadata":{},"sourceType":"module"}