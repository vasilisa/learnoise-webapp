{"ast":null,"code":"import _defineProperty from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/src/components/Consent/Consent.js\";\nimport React, { Component } from \"react\";\nimport Checkbox from \"../Checkbox/Checkbox\";\nimport { Button } from 'react-bootstrap';\nimport { withRouter } from 'react-router-dom';\nvar OPTIONS = [\"One\", \"Two\", \"Three\"];\n\nvar Consent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Consent, _Component);\n\n  function Consent(props) {\n    var _this;\n\n    _classCallCheck(this, Consent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Consent).call(this, props));\n\n    _this.handleCheckboxChange = function (changeEvent) {\n      var name = changeEvent.target.name;\n      console.log(name);\n      console.log(_this.state.count);\n\n      _this.setState(function (prevState) {\n        return {\n          checkboxes: _objectSpread({}, prevState.checkboxes, _defineProperty({}, name, !prevState.checkboxes[name]))\n        };\n      });\n\n      if (_this.state.count === 3) {\n        _this.setState({\n          verified: true\n        });\n      }\n    };\n\n    _this.redirectToTarget = function () {\n      // formSubmitEvent.preventDefault();\n      console.log(_this.state.checkboxes); // const cumulativeSum = (sum => value => sum += value)(0);\n\n      var count_ = 0; //console.log(this.state.checkboxes.map(cumulativeSum)); \n\n      Object.keys(_this.state.checkboxes).filter(function (checkbox) {\n        return _this.state.checkboxes[checkbox];\n      }).forEach(function (checkbox) {\n        console.log(checkbox, \"is selected.\");\n        count_ = count_ + 1;\n      });\n      console.log(count_);\n\n      _this.setState({\n        count: count_\n      });\n\n      _this.props.history.push({\n        pathname: \"/Survey\",\n        state: {\n          participant_info: _this.state\n        }\n      });\n    };\n\n    _this.handleFormSubmit = function () {\n      // formSubmitEvent.preventDefault();\n      console.log(_this.state.checkboxes); // const cumulativeSum = (sum => value => sum += value)(0);\n\n      var count_ = 0; //console.log(this.state.checkboxes.map(cumulativeSum)); \n\n      Object.keys(_this.state.checkboxes).filter(function (checkbox) {\n        return _this.state.checkboxes[checkbox];\n      }).forEach(function (checkbox) {\n        console.log(checkbox, \"is selected.\");\n        count_ = count_ + 1;\n      });\n      console.log(count_);\n\n      _this.setState({\n        count: count_\n      });\n    };\n\n    _this.createCheckbox = function (option) {\n      return React.createElement(Checkbox, {\n        label: option // to be changed for clarity \n        ,\n        isSelected: _this.state.checkboxes[option],\n        onCheckboxChange: _this.handleCheckboxChange,\n        key: option // to be changed for clarity \n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      });\n    };\n\n    _this.createCheckboxes = function () {\n      return OPTIONS.map(_this.createCheckbox);\n    };\n\n    var prolific_id = _this.props.location.state.prolific_id;\n    var study_id = _this.props.location.state.study_id;\n    var longit_id = _this.props.location.state.longit_id;\n    _this.state = {\n      checkboxes: OPTIONS.reduce(function (options, option) {\n        return _objectSpread({}, options, _defineProperty({}, option, false));\n      }, {}),\n      prolific_id: prolific_id,\n      study_id: study_id,\n      longit_id: longit_id,\n      verified: false,\n      count: 0\n    };\n    console.log(_this.state.checkboxes);\n\n    _this.redirectToTarget.bind(_assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  _createClass(Consent, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, this.createCheckboxes()), React.createElement(\"div\", {\n        className: \"buttonContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"button\",\n        disabled: !this.state.verified,\n        onClick: this.redirectToTarget,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Next\"))));\n    }\n  }]);\n\n  return Consent;\n}(Component);\n/*\n<form onSubmit={this.handleFormSubmit}>\n              {this.createCheckboxes()}\n            </form>\n\n\n*/\n\n\nexport default withRouter(Consent);","map":{"version":3,"sources":["/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/src/components/Consent/Consent.js"],"names":["React","Component","Checkbox","Button","withRouter","OPTIONS","Consent","props","handleCheckboxChange","changeEvent","name","target","console","log","state","count","setState","prevState","checkboxes","verified","redirectToTarget","count_","Object","keys","filter","checkbox","forEach","history","push","pathname","participant_info","handleFormSubmit","createCheckbox","option","createCheckboxes","map","prolific_id","location","study_id","longit_id","reduce","options","bind"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AAIA,IAAMC,OAAO,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,OAAf,CAAhB;;IAEMC,O;;;;;AACJ,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,iFAAMA,KAAN;;AADiB,UA8BnBC,oBA9BmB,GA8BI,UAAAC,WAAW,EAAI;AAAA,UAC5BC,IAD4B,GACnBD,WAAW,CAACE,MADO,CAC5BD,IAD4B;AAGpCE,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWC,KAAvB;;AAEA,YAAKC,QAAL,CAAc,UAAAC,SAAS;AAAA,eAAK;AAC1BC,UAAAA,UAAU,oBACLD,SAAS,CAACC,UADL,sBAEPR,IAFO,EAEA,CAACO,SAAS,CAACC,UAAV,CAAqBR,IAArB,CAFD;AADgB,SAAL;AAAA,OAAvB;;AAOA,UAAI,MAAKI,KAAL,CAAWC,KAAX,KAAmB,CAAvB,EAAyB;AACrB,cAAKC,QAAL,CAAc;AACZG,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGD;AAGJ,KAlDkB;;AAAA,UAoDnBC,gBApDmB,GAoDA,YAAM;AAEvB;AAEAR,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWI,UAAvB,EAJuB,CAKvB;;AACA,UAAIG,MAAM,GAAG,CAAb,CANuB,CAOvB;;AAEAC,MAAAA,MAAM,CAACC,IAAP,CAAY,MAAKT,KAAL,CAAWI,UAAvB,EACGM,MADH,CACU,UAAAC,QAAQ;AAAA,eAAI,MAAKX,KAAL,CAAWI,UAAX,CAAsBO,QAAtB,CAAJ;AAAA,OADlB,EAEGC,OAFH,CAEW,UAAAD,QAAQ,EAAI;AACnBb,QAAAA,OAAO,CAACC,GAAR,CAAYY,QAAZ,EAAsB,cAAtB;AACAJ,QAAAA,MAAM,GAAGA,MAAM,GAAC,CAAhB;AACD,OALH;AAOET,MAAAA,OAAO,CAACC,GAAR,CAAYQ,MAAZ;;AAEA,YAAKL,QAAL,CAAc;AACTD,QAAAA,KAAK,EAAEM;AADE,OAAd;;AAIJ,YAAKd,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CAAwB;AACtBC,QAAAA,QAAQ,WADc;AAEtBf,QAAAA,KAAK,EAAE;AAACgB,UAAAA,gBAAgB,EAAE,MAAKhB;AAAxB;AAFe,OAAxB;AAID,KA9EoB;;AAAA,UAgFnBiB,gBAhFmB,GAgFA,YAAM;AACvB;AAEAnB,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWI,UAAvB,EAHuB,CAIvB;;AACA,UAAIG,MAAM,GAAG,CAAb,CALuB,CAMvB;;AAEAC,MAAAA,MAAM,CAACC,IAAP,CAAY,MAAKT,KAAL,CAAWI,UAAvB,EACGM,MADH,CACU,UAAAC,QAAQ;AAAA,eAAI,MAAKX,KAAL,CAAWI,UAAX,CAAsBO,QAAtB,CAAJ;AAAA,OADlB,EAEGC,OAFH,CAEW,UAAAD,QAAQ,EAAI;AACnBb,QAAAA,OAAO,CAACC,GAAR,CAAYY,QAAZ,EAAsB,cAAtB;AACAJ,QAAAA,MAAM,GAAGA,MAAM,GAAC,CAAhB;AACD,OALH;AAOET,MAAAA,OAAO,CAACC,GAAR,CAAYQ,MAAZ;;AAEA,YAAKL,QAAL,CAAc;AACTD,QAAAA,KAAK,EAAEM;AADE,OAAd;AAIH,KArGkB;;AAAA,UAuGnBW,cAvGmB,GAuGF,UAAAC,MAAM;AAAA,aACrB,oBAAC,QAAD;AACE,QAAA,KAAK,EAAEA,MADT,CACiB;AADjB;AAEE,QAAA,UAAU,EAAE,MAAKnB,KAAL,CAAWI,UAAX,CAAsBe,MAAtB,CAFd;AAGE,QAAA,gBAAgB,EAAE,MAAKzB,oBAHzB;AAIE,QAAA,GAAG,EAAEyB,MAJP,CAIe;AAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADqB;AAAA,KAvGJ;;AAAA,UAgHnBC,gBAhHmB,GAgHA;AAAA,aAAM7B,OAAO,CAAC8B,GAAR,CAAY,MAAKH,cAAjB,CAAN;AAAA,KAhHA;;AAGjB,QAAMI,WAAW,GAAG,MAAK7B,KAAL,CAAW8B,QAAX,CAAoBvB,KAApB,CAA0BsB,WAA9C;AACA,QAAME,QAAQ,GAAM,MAAK/B,KAAL,CAAW8B,QAAX,CAAoBvB,KAApB,CAA0BwB,QAA9C;AACA,QAAMC,SAAS,GAAK,MAAKhC,KAAL,CAAW8B,QAAX,CAAoBvB,KAApB,CAA0ByB,SAA9C;AAEF,UAAKzB,KAAL,GAAa;AACXI,MAAAA,UAAU,EAAEb,OAAO,CAACmC,MAAR,CACV,UAACC,OAAD,EAAUR,MAAV;AAAA,iCACKQ,OADL,sBAEGR,MAFH,EAEY,KAFZ;AAAA,OADU,EAKV,EALU,CADD;AAQXG,MAAAA,WAAW,EAAEA,WARF;AASXE,MAAAA,QAAQ,EAAGA,QATA;AAUXC,MAAAA,SAAS,EAAEA,SAVA;AAWXpB,MAAAA,QAAQ,EAAE,KAXC;AAYXJ,MAAAA,KAAK,EAAE;AAZI,KAAb;AAgBAH,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWI,UAAvB;;AAEA,UAAKE,gBAAL,CAAsBsB,IAAtB;;AAzBmB;AA2BpB;;;;6BAwFU;AACP,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKR,gBAAL,EADL,CADF,EAIE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,QAAQ,EAAE,CAAC,KAAKpB,KAAL,CAAWK,QAA5C;AAAsD,QAAA,OAAO,EAAE,KAAKC,gBAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAJF,CADF,CADF;AAYD;;;;EAjImBnB,S;AAoItB;;;;;;;;;AAQA,eAAeG,UAAU,CAACE,OAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport Checkbox from \"../Checkbox/Checkbox\";\nimport { Button } from 'react-bootstrap';\nimport {withRouter} from 'react-router-dom';\n\n\n\nconst OPTIONS = [\"One\", \"Two\", \"Three\"];\n\nclass Consent extends Component {\n  constructor(props) {\n    super(props);\n\n    const prolific_id = this.props.location.state.prolific_id\n    const study_id    = this.props.location.state.study_id\n    const longit_id   = this.props.location.state.longit_id\n\n  this.state = {\n    checkboxes: OPTIONS.reduce(\n      (options, option) => ({ // to change options and options for name, label for clarity \n        ...options,\n        [option]: false\n      }),\n      {}\n    ),\n    prolific_id: prolific_id, \n    study_id : study_id,\n    longit_id: longit_id,\n    verified: false, \n    count: 0\n\n  };\n\n  console.log(this.state.checkboxes)\n\n  this.redirectToTarget.bind(this);\n    \n}\n\n  \n  handleCheckboxChange = changeEvent => {\n    const { name } = changeEvent.target;\n\n    console.log(name)\n    console.log(this.state.count)\n\n    this.setState(prevState => ({\n      checkboxes: {\n        ...prevState.checkboxes,\n        [name]: !prevState.checkboxes[name]\n      }\n    }));\n\n    if (this.state.count===3){\n        this.setState({\n          verified: true\n        });\n      }\n\n    \n  };\n\n  redirectToTarget = () => {\n\n    // formSubmitEvent.preventDefault();\n\n    console.log(this.state.checkboxes)\n    // const cumulativeSum = (sum => value => sum += value)(0);\n    var count_ = 0 \n    //console.log(this.state.checkboxes.map(cumulativeSum)); \n\n    Object.keys(this.state.checkboxes)\n      .filter(checkbox => this.state.checkboxes[checkbox])\n      .forEach(checkbox => {\n        console.log(checkbox, \"is selected.\");\n        count_ = count_+1\n      });\n\n      console.log(count_)\n\n      this.setState({\n           count: count_\n         });\n\n  this.props.history.push({\n    pathname: `/Survey`, \n    state: {participant_info: this.state} \n  })\n}\n\n  handleFormSubmit = () => {\n    // formSubmitEvent.preventDefault();\n\n    console.log(this.state.checkboxes)\n    // const cumulativeSum = (sum => value => sum += value)(0);\n    var count_ = 0 \n    //console.log(this.state.checkboxes.map(cumulativeSum)); \n\n    Object.keys(this.state.checkboxes)\n      .filter(checkbox => this.state.checkboxes[checkbox])\n      .forEach(checkbox => {\n        console.log(checkbox, \"is selected.\");\n        count_ = count_+1\n      });\n\n      console.log(count_)\n\n      this.setState({\n           count: count_\n         });\n      \n  };\n\n  createCheckbox = option => (\n    <Checkbox\n      label={option} // to be changed for clarity \n      isSelected={this.state.checkboxes[option]}\n      onCheckboxChange={this.handleCheckboxChange}\n      key={option} // to be changed for clarity \n    />\n  );\n\n  createCheckboxes = () => OPTIONS.map(this.createCheckbox);\n\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-5\">\n          <div className=\"col-sm-5\">\n              {this.createCheckboxes()}\n          </div>\n          <div className=\"buttonContainer\">\n            <Button type=\"button\" disabled={!this.state.verified} onClick={this.redirectToTarget}>Next</Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/*\n<form onSubmit={this.handleFormSubmit}>\n              {this.createCheckboxes()}\n            </form>\n\n\n*/\n\nexport default withRouter(Consent);"]},"metadata":{},"sourceType":"module"}