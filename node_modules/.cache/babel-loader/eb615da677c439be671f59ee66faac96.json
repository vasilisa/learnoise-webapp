{"ast":null,"code":"import _classCallCheck from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/src/components/Intro/Intro.js\";\nimport React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { API_URL } from '../../config';\nimport { handleResponse } from '../helpers';\nimport queryString from 'query-string';\nimport './Intro.css';\nimport './bootstrap.min.css';\n/*\nContains the INFORMATION for COVID-19 participants FROM THE ONLINE ETHICS \n*/\n// Specify a SURVEY LIST HERE FOR SIMPLICITY \n// Has to match the import names in the Survey.js \n\nvar survey_list = ['pad', 'bis', 'hads', 'pss', 'pswq', 'ius', 'ybocs', 'demo', 'covid', 'iq', 'feedback'];\nvar n = survey_list.length - 1;\n\nvar Intro =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Intro, _React$Component);\n\n  function Intro(props) {\n    var _this;\n\n    _classCallCheck(this, Intro);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Intro).call(this, props));\n    var url = _this.props.location.search;\n    console.log(url);\n    var params = queryString.parse(url);\n    console.log(params);\n    var prolific_id = params['PROLIFIC_PID'] === undefined ? 'undefined' : params['PROLIFIC_PID'];\n    var study_id = params['STUDY_ID'] === undefined ? 'undefined' : params['STUDY_ID'];\n    var currentDate = new Date(); // maybe change to local \n\n    var date = currentDate.getDate();\n    var month = currentDate.getMonth(); //Be careful! January is 0 not 1\n\n    var year = currentDate.getFullYear();\n    var dateString = date + \"-\" + (month + 1) + \"-\" + year;\n    _this.state = {\n      participant_id: 1,\n      // by default \n      prolific_id: prolific_id,\n      study_id: study_id,\n      longit_id: 1,\n      // by default the first presentation of task, might be subject to modifications \n      block_number: 0,\n      // has to be in the parent for Survey component for proper functioning \n      TotalBlock: n,\n      // has to be in the parent for Survey component for proper functioning \n      date: dateString,\n      survey_list: survey_list\n    };\n    console.log(_this.state.TotalBlock);\n\n    _this.redirectToTarget.bind(_assertThisInitialized(_this));\n\n    _this.fetchParticipantInfo.bind(_assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  _createClass(Intro, [{\n    key: \"componentWillMount\",\n    // Mount the component to call the BACKEND and GET the information\n    value: function componentWillMount() {\n      document.body.style.background = \"fff\";\n      this.fetchParticipantInfo();\n    }\n  }, {\n    key: \"redirectToTarget\",\n    value: function redirectToTarget() {\n      this.props.history.push({\n        pathname: \"/Consent\",\n        state: {\n          participant_info: this.state\n        }\n      });\n    }\n  }, {\n    key: \"fetchParticipantInfo\",\n    value: function fetchParticipantInfo() {\n      var _this2 = this;\n\n      fetch(\"\".concat(API_URL, \"/participants_question_data/last_participant_id\")).then(handleResponse).then(function (data) {\n        var participant_id_ = parseInt(data['new_participant_id']);\n        console.log(participant_id_);\n\n        _this2.setState({\n          participant_id: participant_id_\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"IntroConsentText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"INFORMATION FOR THE PARTICIPANT\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Who is conducting this research study?\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"This research is being conducted by the Wellcome Centre for Human Neuroimaging and the Max Planck UCL Centre for Computational Psychiatry and Ageing Research.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"The lead researcher(s) for this project is Alisa Loosen (a.loosen.17@ucl.ac.uk), Vasilisa Skvortsova, Dr, (v.skvortsova@ucl.ac.uk) and Tobias Hauser, Dr, (t.hauser@ucl.ac.uk).\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"This study has been approved by the UCL Research Ethics Committee (project ID number 15301\\\\001) and funded by the Wellcome Trust.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"What is the purpose of this study?\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"We are interested in how the adult brain controls learning and decision-making. This research aims to provide insights into how the healthy brain works to help us understand the causes of a number of different medical conditions.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"What will happen to me if I take part?\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"You will play one or more online computer games, which will last around [enter time as appropriate].\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"You will receive \\xA3X.XX [THIS IS A FIXED PROLIFIC MONEY] for helping us.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Additionally, you can win a bonus of \\xA31.00 based on your performance in the games.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"You will also be asked some questions about yourself, your feelings, background, attitudes and behaviour in your everyday life.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Remember, you are free to withdraw at any time without giving a reason.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"What are the possible benefits of taking part?\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"While there are no immediate benefits to taking part, your participation in this research will help us understand how people make decisions and this could have benefits for our understanding of mental health problems.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Complaints\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"If you wish to complain or have any concerns about any aspect of the way you have been approached or treated by members of staff, then the research UCL complaints mechanisms are available to you.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"In the first instance, please talk to the researcher or the chief investigator (Dr Tobias Hauser, t.hauser@ucl.ac.uk) about your complaint.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"If you feel that the complaint has not been resolved satisfactorily, please contact the chair of the UCL Research Ethics Committee (ethics@ucl.ac.uk).\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"If you are concerned about how your personal data are being processed please contact the data controller who is UCL: data-protection@ucl.ac.uk.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"If you remain unsatisfied, you may wish to contact the Information Commissioner\\u2019s Office (ICO).\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Contact details, and details of data subject rights, are available on the ICO website \", React.createElement(\"a\", {\n        style: {\n          display: \"table-cell\"\n        },\n        href: \"https://ico.org.uk/for-organisations/data-protection-reform/overview-of-the-gdpr/individuals-rights\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"here\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"What about my data?\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"To help future research and make the best use of the research data you have given us (such as answers to questionnaires) we may keep your research data indefinitely and share these.\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"The data we collect will be shared and held as follows:\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"In publications, your data will be anonymised, so you cannot be identified.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"In public databases, your data will be anonymised\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"We do not collect any personal data that could be used to identify you\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"The legal basis used to process your personal data will be the provision of public task (this means that the research you are taking part in is deemed to be in the public interest).\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"The legal basis used to process special category data (i.e. ethnicity) will be for scientific research purposes. We will follow the UCL and legal guidelines to safeguard your data.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"If you change your mind and withdraw your consent to participate in this study you can contact us via Prolific.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"However, we collect all data in an anonymised form, which is why this data cannot be destroyed, withdrawn or recalled.\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"If there are any queries or concerns please do not hesitate to contact: Alisa Loosen, a.loosen.17@ucl.ac.uk\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"buttonContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"button\",\n        onClick: function onClick() {\n          return _this3.redirectToTarget();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"NEXT\"))));\n    }\n  }]);\n\n  return Intro;\n}(React.Component);\n\nIntro.contextTypes = {\n  router: PropTypes.object\n};\nexport default withRouter(Intro);","map":{"version":3,"sources":["/Users/vasilisaskvortsova/Documents/COVID-19/covid-webap/src/components/Intro/Intro.js"],"names":["React","Button","withRouter","PropTypes","API_URL","handleResponse","queryString","survey_list","n","length","Intro","props","url","location","search","console","log","params","parse","prolific_id","undefined","study_id","currentDate","Date","date","getDate","month","getMonth","year","getFullYear","dateString","state","participant_id","longit_id","block_number","TotalBlock","redirectToTarget","bind","fetchParticipantInfo","document","body","style","background","history","push","pathname","participant_info","fetch","then","data","participant_id_","parseInt","setState","catch","error","display","Component","contextTypes","router","object"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button } from 'react-bootstrap';\nimport {withRouter} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { API_URL } from '../../config';\nimport { handleResponse } from '../helpers';\n\nimport queryString from 'query-string';\n\nimport './Intro.css';\n\nimport './bootstrap.min.css';\n\n/*\nContains the INFORMATION for COVID-19 participants FROM THE ONLINE ETHICS \n*/\n\n// Specify a SURVEY LIST HERE FOR SIMPLICITY \n// Has to match the import names in the Survey.js \nconst survey_list = ['pad','bis','hads','pss','pswq','ius','ybocs','demo','covid','iq','feedback'] \nconst n           =  survey_list.length-1;   \n\nclass Intro extends React.Component {\n  constructor(props) {\n    super(props);\n\n\n    let url    = this.props.location.search;\n    console.log(url) \n    let params = queryString.parse(url);\n\n    console.log(params) \n    const prolific_id = (params['PROLIFIC_PID']=== undefined ? 'undefined' : params['PROLIFIC_PID']) \n    const study_id    = (params['STUDY_ID']=== undefined ? 'undefined' : params['STUDY_ID']) \n\n    var currentDate = new Date(); // maybe change to local \n    var date        = currentDate.getDate();\n    var month       = currentDate.getMonth(); //Be careful! January is 0 not 1\n    var year        = currentDate.getFullYear();\n    var dateString  = date + \"-\" +(month + 1) + \"-\" + year;\n    \n  \n   this.state = {\n      participant_id: 1, // by default \n      prolific_id: prolific_id,\n      study_id: study_id,\n      longit_id: 1, // by default the first presentation of task, might be subject to modifications \n      block_number : 0, // has to be in the parent for Survey component for proper functioning \n      TotalBlock: n, // has to be in the parent for Survey component for proper functioning \n      date: dateString,\n      survey_list: survey_list  \n  }\n\n  console.log(this.state.TotalBlock)\n\n    this.redirectToTarget.bind(this);\n    this.fetchParticipantInfo.bind(this); \n  }\n\n\n  static contextTypes = {\n    router: PropTypes.object\n  }\n\n  // Mount the component to call the BACKEND and GET the information\n    componentWillMount() {\n    document.body.style.background = \"fff\";  \n    this.fetchParticipantInfo();\n    } \n    \n    \n  redirectToTarget(){\n    this.props.history.push({\n      pathname: `/Consent`,  \n      state: {participant_info: this.state}\n    })\n  }\n\n  fetchParticipantInfo () {\n         fetch(`${API_URL}/participants_question_data/last_participant_id`) \n           .then(handleResponse)\n           .then((data) => {\n             const participant_id_ = parseInt(data['new_participant_id'])\n             console.log(participant_id_)\n\n             this.setState({\n                     participant_id : participant_id_,\n                 });\n         })\n           .catch((error) => {\n            console.log(error)\n         });\n        }\n\nrender() {\n  return (\n      <div>\n        <div className=\"IntroConsentText\">\n          <p><span className=\"bold\">INFORMATION FOR THE PARTICIPANT</span></p>\n          <p><span className=\"bold\">Who is conducting this research study?</span></p>\n          <p>This research is being conducted by the Wellcome Centre for Human Neuroimaging and the Max Planck UCL Centre for Computational Psychiatry and Ageing Research.</p>\n          <p>The lead researcher(s) for this project is Alisa Loosen (a.loosen.17@ucl.ac.uk), Vasilisa Skvortsova, Dr, (v.skvortsova@ucl.ac.uk) and Tobias Hauser, Dr, (t.hauser@ucl.ac.uk).</p>\n          <p>This study has been approved by the UCL Research Ethics Committee (project ID number 15301\\001) and funded by the Wellcome Trust.</p>\n          <p><span className=\"bold\">What is the purpose of this study?</span></p>\n          <p>We are interested in how the adult brain controls learning and decision-making. This research aims to provide insights into how the healthy brain works to help us understand the causes of a number of different medical conditions.</p>\n          \n\n          <p><span className=\"bold\">What will happen to me if I take part?</span></p> \n          <p>You will play one or more online computer games, which will last around [enter time as appropriate].</p> \n          <p>You will receive £X.XX [THIS IS A FIXED PROLIFIC MONEY] for helping us.</p>\n          <p>Additionally, you can win a bonus of £1.00 based on your performance in the games.</p>   \n          <p>You will also be asked some questions about yourself, your feelings, background, attitudes and behaviour in your everyday life.</p>\n          <p>Remember, you are free to withdraw at any time without giving a reason.</p> \n          \n        \n          <p><span className=\"bold\">What are the possible benefits of taking part?</span></p>\n          <p>While there are no immediate benefits to taking part, your participation in this research will help us understand how people make decisions and this could have benefits for our understanding of mental health problems.</p> \n          <p><span className=\"bold\">Complaints</span></p>\n          <p>If you wish to complain or have any concerns about any aspect of the way you have been approached or treated by members of staff, then the research UCL complaints mechanisms are available to you.</p>\n          <p>In the first instance, please talk to the researcher or the chief investigator (Dr Tobias Hauser, t.hauser@ucl.ac.uk) about your complaint.</p>\n        \n          <p>If you feel that the complaint has not been resolved satisfactorily, please contact the chair of the UCL Research Ethics Committee (ethics@ucl.ac.uk).</p>\n        \n          <p>If you are concerned about how your personal data are being processed please contact the data controller who is UCL: data-protection@ucl.ac.uk.</p>\n          <p>If you remain unsatisfied, you may wish to contact the Information Commissioner’s Office (ICO).</p>\n        \n          <p>Contact details, and details of data subject rights, are available on the ICO website <a style={{display: \"table-cell\"}} href=\"https://ico.org.uk/for-organisations/data-protection-reform/overview-of-the-gdpr/individuals-rights\" target=\"_blank\">here</a></p> \n          \n          <p><span className=\"bold\">What about my data?</span></p>\n          <p>To help future research and make the best use of the research data you have given us (such as answers to questionnaires) we may keep your research data indefinitely and share these.</p>\n          <ul>\n          <p>The data we collect will be shared and held as follows:</p>\n          <p></p>\n          <li>{}In publications, your data will be anonymised, so you cannot be identified.</li> \n          <p></p>\n          <li>{}In public databases, your data will be anonymised</li> \n          <p></p>\n          <li>{}We do not collect any personal data that could be used to identify you</li> \n          </ul>\n          <p>The legal basis used to process your personal data will be the provision of public task (this means that the research you are taking part in is deemed to be in the public interest).</p> \n          <p>The legal basis used to process special category data (i.e. ethnicity) will be for scientific research purposes. We will follow the UCL and legal guidelines to safeguard your data.</p>\n          <p>If you change your mind and withdraw your consent to participate in this study you can contact us via Prolific.</p> \n          <p><span className=\"bold\">However, we collect all data in an anonymised form, which is why this data cannot be destroyed, withdrawn or recalled.</span></p>\n          <p></p>\n          <p>If there are any queries or concerns please do not hesitate to contact: Alisa Loosen, a.loosen.17@ucl.ac.uk</p>\n        </div>\n        <div>\n        <div className=\"buttonContainer\">\n          <Button type=\"button\" onClick={()=>this.redirectToTarget()}>NEXT</Button>\n        </div>\n        </div>\n        </div>  \n    );\n  }\n}\n \nexport default withRouter(Intro);\n"]},"metadata":{},"sourceType":"module"}